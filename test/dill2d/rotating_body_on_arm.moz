include DILLEXPORT
include DILLSIM

def n_1, n_2, n_3: Node

def t: Real
def t_0 = 0.

def m = 1.
def I = 1.
def x_m, y_m: Real
def vx_m, vy_m: Real
def Fx_m, Fy_m: Real
def th_m, om_m, T_m: Real
def rr_m = vec x_m y_m
def vv_m = vec vx_m vy_m
def FF_m = vec Fx_m Fy_m

def b = Body m
             I
             rr_m
             vv_m
             FF_m
             th_m
             om_m
             T_m
             n_1 n_3

def f = t * t
// def f = t
// def dft = 0.
// def dftt = 2.

def aa = AAngularActuator f n_1 n_2
// def rj = ARevoluteJoint n_1 n_2
def l = 1.
def ra = ARigidArm l n_1 n_2 n_3
def g = Gravity m n_1 n_3
def c = Clock t_0 t

def m = b; aa; ra; c; g; x_m <- 1.

def main = {
  exportDill2Modelica "Rotating_Body_On_Arm" m
  // simulate m (0., 10.) 0.01
}
