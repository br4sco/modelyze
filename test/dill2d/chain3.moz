include DILL2DV
include DILLEXPORT
def DATUM, f_1, f_2, f_3: Frame

def myRJoint = RevoluteJoint1 0.3 DATUM
def myDamper = RotationalDamper1 3.

def myBar(c: Frame, ea: Frame, we: Frame) -> ModelElement = {
  Bar1 1. 0.2 3. DATUM ea c we
}

def myBar2(ea: Frame, we: Frame) -> ModelElement = { def c: Frame; myBar c ea we }

def chain1 = (myRJoint - myBar2 - myRJoint - myBar2 -. f_1 - myRJoint - myBar2 - myRJoint - myBar2 - myRJoint - myBar2)
def chain2 = (myRJoint - myBar2 - myRJoint - myBar2)

def model = chain1 DATUM f_2 ++ chain2 f_1 f_3

def main = {
  elaborateToFile model
}
