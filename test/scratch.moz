include ModelyzeDAE

def pendulum() = {
  def x: Real;
  def y: Real;
  def lambda: Real;
  y'' = 10. - lambda*y;
  x'' = lambda*x;
  x^2. + y^2. = 0.;
}

def main = {
  def model = pendulum();
  def (rmodel, dmap) = (indexReducationPantelides(model, Map.empty));
  def _ = println("== Before ==");
  def _ = dprint(model);
  def _ = println("== After ==");
  def _ = dprint(rmodel);
  def _ = dprint(dmap);
  println "the end!"
}
